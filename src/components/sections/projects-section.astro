---
import projects from "../../data/projects.json";
import Card from "../Card.astro";
---

<section class="flex flex-col gap-4 group">
  <header class="flex items-center [&>:first-child]:mr-2">
    <img
      src="/svg/cube.svg"
      class="size-6 text-white bg-muted p-1 rounded-md border border-primary/20 group-hover:translate-x-0 translate-x-4 opacity-0 group-hover:opacity-100 transition"
      alt="projects icon"
    />
    <h3
      class="font-semibold group-hover:translate-x-0 -translate-x-8 transition"
    >
      Projects
    </h3>
  </header>
  <ul class="grid grid-cols-2 gap-2">
    {projects.map((project) => <Card {...project} />)}
  </ul>
</section>

<script>
  import { animate, stagger } from "motion";

  animate(
    ".project-card",
    {
      y: [20, 0],
      opacity: [0, 1],
    },
    {
      type: "spring",
      duration: 2,
      delay: stagger(0.1),
    }
  );
</script>
